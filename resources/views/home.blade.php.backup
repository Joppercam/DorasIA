@extends('layouts.app')

@section('title', 'Dorasia - Los Mejores K-Dramas y Películas Coreanas Online')

@section('description', 'Descubre los mejores K-Dramas y películas coreanas con subtítulos en español. Ver series como Squid Game, Crash Landing on You, Vincenzo, Kingdom y más. La mejor plataforma de entretenimiento coreano.')

@section('keywords', 'k-dramas, dramas coreanos, películas coreanas, subtítulos español, entretenimiento coreano, series coreanas, kdrama, doramas, dorasia, squid game, crash landing on you, vincenzo, kingdom, descendientes del sol, goblin, hotel del luna')

@section('og_title', 'Dorasia - La Mejor Plataforma de K-Dramas y Películas Coreanas')
@section('og_description', 'Descubre miles de K-Dramas y películas coreanas con subtítulos en español. La plataforma definitiva para fans del entretenimiento coreano.')

@section('twitter_title', 'Dorasia - K-Dramas y Películas Coreanas')
@section('twitter_description', 'La mejor plataforma para descubrir K-Dramas y películas coreanas con subtítulos en español.')

@section('content')
<!-- Hero Section with Rotation -->
@if($featuredSeries)
<section class="hero-section" id="heroSection" style="background-image: url('{{ $featuredSeries->backdrop_path ? 'https://image.tmdb.org/t/p/original' . $featuredSeries->backdrop_path : '/images/no-backdrop.svg' }}')">
    <div class="hero-overlay"></div>
    <div class="hero-content">
        <div class="hero-info-box">
            <!-- Poster para móvil -->
            <img src="{{ $featuredSeries->poster_path ? 'https://image.tmdb.org/t/p/w500' . $featuredSeries->poster_path : '/images/no-poster-series.svg' }}" 
                 alt="{{ $featuredSeries->display_title }}" 
                 class="mobile-hero-poster d-block d-md-none">
            
            <!-- Categories -->
            @if($featuredSeries->genres->count() > 0)
            <div class="hero-categories">
                @foreach($featuredSeries->genres->take(3) as $genre)
                    <span class="hero-category">{{ $genre->display_name ?: $genre->name }}</span>
                @endforeach
            </div>
            @endif
            
            <h1 class="hero-title">{{ $featuredSeries->display_title }}</h1>
            
            <!-- Rating and Year -->
            <div class="hero-meta">
                @if($featuredSeries->vote_average > 0)
                <div class="hero-rating">
                    <span class="rating-stars">⭐</span>
                    <span class="rating-number">{{ number_format($featuredSeries->vote_average, 1) }}</span>
                </div>
                @endif
                @if($featuredSeries->first_air_date)
                <span class="hero-year">{{ $featuredSeries->first_air_date->format('Y') }}</span>
                @endif
                @if($featuredSeries->number_of_episodes)
                <span class="hero-episodes">{{ $featuredSeries->number_of_episodes }} episodios</span>
                @endif
            </div>
            
            <p class="hero-description">
                {{ Str::limit($featuredSeries->display_overview ?: 'Descubre este increíble K-Drama y sumérgete en una historia única llena de emociones.', 280) }}
            </p>
            
            <div class="hero-buttons">
                <a href="{{ route('series.show', $featuredSeries->id) }}" class="btn btn-hero">
                    Más Información
                </a>
            </div>
        </div>
    </div>
    
    @if(isset($heroSeriesList) && $heroSeriesList->count() > 1)
    <!-- Slider Controls -->
    <div class="hero-controls">
        <button class="hero-nav hero-nav-prev" onclick="navigateHero(-1)" aria-label="Anterior">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M15 18l-6-6 6-6"/>
            </svg>
        </button>
        <button class="hero-nav hero-nav-next" onclick="navigateHero(1)" aria-label="Siguiente">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 18l6-6-6-6"/>
            </svg>
        </button>
    </div>
    
    <!-- Slider Indicators -->
    <div class="hero-indicators">
        @foreach($heroSeriesList as $index => $series)
        <button class="hero-indicator {{ $loop->first ? 'active' : '' }}" 
                onclick="goToSlide({{ $loop->index }})" 
                aria-label="Ir a slide {{ $loop->index + 1 }}"></button>
        @endforeach
    </div>
    @endif
</section>
@endif

<!-- Content Sections -->
<div style="margin-top: -100px; position: relative; z-index: 20;">
<div class="netflix-mobile-home"

    <!-- Categories -->
    <div class="mobile-categories">
        <div class="mobile-category-pills">
            <a href="{{ route('home') }}" class="category-pill {{ request()->routeIs('home') ? 'active' : '' }}">Series</a>
            <a href="{{ route('movies.index') }}" class="category-pill {{ request()->routeIs('movies.*') ? 'active' : '' }}">Películas</a>
            <a href="{{ route('actors.index') }}" class="category-pill {{ request()->routeIs('actors.*') ? 'active' : '' }}">Actores</a>
            @auth
            <a href="{{ route('profile.watchlist') }}" class="category-pill {{ request()->routeIs('profile.watchlist') ? 'active' : '' }}">Mi lista</a>
            @endauth
        </div>
    </div>

    <!-- Content Rows -->
    <div class="mobile-content-rows">

        <!-- Populares -->
        @if(isset($popularSeries) && $popularSeries && $popularSeries->count() > 0)
        <section class="mobile-row" data-type="popular">
            <h2 class="mobile-row-title">Populares en Dorasia</h2>
            <div class="mobile-row-content">
                @foreach($popularSeries->take(20) as $series)
                <div class="mobile-card" onclick="location.href='{{ route('series.show', $series->id) }}'">
                    <div class="mobile-card-image">
                        <img src="{{ $series->poster_path ? 'https://image.tmdb.org/t/p/w342' . $series->poster_path : '/images/no-poster-series.svg' }}" 
                             alt="{{ $series->display_title }}" loading="lazy" onerror="this.src='/images/no-poster-series.svg'">
                        <div class="mobile-card-overlay">
                            <div class="card-play-btn">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </div>
                        </div>
                        <div class="mobile-card-ranking">{{ $loop->iteration }}</div>
                    </div>
                    <div class="mobile-card-info">
                        <h3 class="mobile-card-title">{{ $series->display_title }}</h3>
                        <div class="mobile-card-meta">
                            @if($series->vote_average > 0)
                            <div class="card-rating">
                                <span class="rating-stars">⭐</span>
                                <span class="rating-number">{{ number_format($series->vote_average, 1) }}</span>
                            </div>
                            @endif
                            @if(auth()->check() && $series->vote_average > 0)
                            <span class="card-match">{{ number_format($series->vote_average * 10) }}% de coincidencia</span>
                            @endif
                            @if($series->first_air_date)
                            <span class="card-year">{{ $series->first_air_date->format('Y') }}</span>
                            @endif
                            <span class="card-maturity">16+</span>
                        </div>
                        <div class="mobile-card-genres">
                            @if($series->genres)
                                @foreach($series->genres->take(3) as $genre)
                                    <span class="card-genre">{{ $genre->display_name ?: $genre->name }}</span>@if(!$loop->last) • @endif
                                @endforeach
                            @endif
                        </div>
                        <p class="mobile-card-description">{{ Str::limit($series->overview_es ?: $series->overview, 100) }}</p>
                    </div>
                </div>
                @endforeach
            </div>
        </section>
        @endif

        <!-- Mejor Calificadas -->
        @if(isset($topRatedSeries) && $topRatedSeries && $topRatedSeries->count() > 0)
        <section class="mobile-row" data-type="top_rated">
            <h2 class="mobile-row-title">Mejor Calificadas</h2>
            <div class="mobile-row-content">
                @foreach($topRatedSeries->take(20) as $series)
                <div class="mobile-card" onclick="location.href='{{ route('series.show', $series->id) }}'">
                    <div class="mobile-card-image">
                        <img src="{{ $series->poster_path ? 'https://image.tmdb.org/t/p/w342' . $series->poster_path : '/images/no-poster-series.svg' }}" 
                             alt="{{ $series->display_title }}" loading="lazy" onerror="this.src='/images/no-poster-series.svg'">
                        <div class="mobile-card-overlay">
                            <div class="card-play-btn">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="mobile-card-info">
                        <h3 class="mobile-card-title">{{ $series->display_title }}</h3>
                        <div class="mobile-card-meta">
                            @if($series->vote_average > 0)
                            <div class="card-rating">
                                <span class="rating-stars">⭐</span>
                                <span class="rating-number">{{ number_format($series->vote_average, 1) }}</span>
                            </div>
                            @endif
                            @if(auth()->check() && $series->vote_average > 0)
                            <span class="card-match">{{ number_format($series->vote_average * 10) }}% de coincidencia</span>
                            @endif
                            @if($series->first_air_date)
                            <span class="card-year">{{ $series->first_air_date->format('Y') }}</span>
                            @endif
                            <span class="card-maturity">16+</span>
                        </div>
                        <div class="mobile-card-genres">
                            @if($series->genres)
                                @foreach($series->genres->take(3) as $genre)
                                    <span class="card-genre">{{ $genre->display_name ?: $genre->name }}</span>@if(!$loop->last) • @endif
                                @endforeach
                            @endif
                        </div>
                    </div>
                </div>
                @endforeach
            </div>
        </section>
        @endif

        <!-- Romance -->
        @if(isset($romanceSeries) && $romanceSeries && $romanceSeries->count() > 0)
        <section class="mobile-row" data-type="romance">
            <h2 class="mobile-row-title">Romance</h2>
            <div class="mobile-row-content">
                @foreach($romanceSeries->take(20) as $series)
                <div class="mobile-card" onclick="location.href='{{ route('series.show', $series->id) }}'">
                    <div class="mobile-card-image">
                        <img src="{{ $series->poster_path ? 'https://image.tmdb.org/t/p/w342' . $series->poster_path : '/images/no-poster-series.svg' }}" 
                             alt="{{ $series->display_title }}" loading="lazy" onerror="this.src='/images/no-poster-series.svg'">
                        <div class="mobile-card-overlay">
                            <div class="card-play-btn">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="mobile-card-info">
                        <h3 class="mobile-card-title">{{ $series->display_title }}</h3>
                        <div class="mobile-card-meta">
                            @if($series->vote_average > 0)
                            <div class="card-rating">
                                <span class="rating-stars">⭐</span>
                                <span class="rating-number">{{ number_format($series->vote_average, 1) }}</span>
                            </div>
                            @endif
                            @if(auth()->check() && $series->vote_average > 0)
                            <span class="card-match">{{ number_format($series->vote_average * 10) }}% de coincidencia</span>
                            @endif
                            @if($series->first_air_date)
                            <span class="card-year">{{ $series->first_air_date->format('Y') }}</span>
                            @endif
                            <span class="card-maturity">16+</span>
                        </div>
                        <div class="mobile-card-genres">
                            @if($series->genres)
                                @foreach($series->genres->take(3) as $genre)
                                    <span class="card-genre">{{ $genre->display_name ?: $genre->name }}</span>@if(!$loop->last) • @endif
                                @endforeach
                            @endif
                        </div>
                    </div>
                </div>
                @endforeach
            </div>
        </section>
        @endif

        <!-- Drama -->
        @if(isset($dramasSeries) && $dramasSeries && $dramasSeries->count() > 0)
        <section class="mobile-row" data-type="drama">
            <h2 class="mobile-row-title">Drama</h2>
            <div class="mobile-row-content">
                @foreach($dramasSeries->take(20) as $series)
                <div class="mobile-card" onclick="location.href='{{ route('series.show', $series->id) }}'">
                    <div class="mobile-card-image">
                        <img src="{{ $series->poster_path ? 'https://image.tmdb.org/t/p/w342' . $series->poster_path : '/images/no-poster-series.svg' }}" 
                             alt="{{ $series->display_title }}" loading="lazy" onerror="this.src='/images/no-poster-series.svg'">
                        <div class="mobile-card-overlay">
                            <div class="card-play-btn">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="mobile-card-info">
                        <h3 class="mobile-card-title">{{ $series->display_title }}</h3>
                        <div class="mobile-card-meta">
                            @if($series->vote_average > 0)
                            <div class="card-rating">
                                <span class="rating-stars">⭐</span>
                                <span class="rating-number">{{ number_format($series->vote_average, 1) }}</span>
                            </div>
                            @endif
                            @if(auth()->check() && $series->vote_average > 0)
                            <span class="card-match">{{ number_format($series->vote_average * 10) }}% de coincidencia</span>
                            @endif
                            @if($series->first_air_date)
                            <span class="card-year">{{ $series->first_air_date->format('Y') }}</span>
                            @endif
                            <span class="card-maturity">16+</span>
                        </div>
                        <div class="mobile-card-genres">
                            @if($series->genres)
                                @foreach($series->genres->take(3) as $genre)
                                    <span class="card-genre">{{ $genre->display_name ?: $genre->name }}</span>@if(!$loop->last) • @endif
                                @endforeach
                            @endif
                        </div>
                    </div>
                </div>
                @endforeach
            </div>
        </section>
        @endif

        <!-- Próximamente -->
        @if(isset($upcomingSeries) && $upcomingSeries && $upcomingSeries->count() > 0)
        <section class="mobile-row">
            <h2 class="mobile-row-title">Próximamente</h2>
            <div class="mobile-row-content">
                @foreach($upcomingSeries->take(20) as $series)
                <div class="mobile-card" onclick="location.href='{{ route('series.show', $series->id) }}'">
                    <div class="mobile-card-image">
                        <img src="{{ $series->poster_path ? 'https://image.tmdb.org/t/p/w342' . $series->poster_path : '/images/no-poster-series.svg' }}" 
                             alt="{{ $series->display_title }}" loading="lazy" onerror="this.src='/images/no-poster-series.svg'">
                        <div class="mobile-card-overlay">
                            <div class="card-play-btn">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="mobile-card-info">
                        <h3 class="mobile-card-title">{{ $series->display_title }}</h3>
                        <div class="mobile-card-meta">
                            @if($series->vote_average > 0)
                            <div class="card-rating">
                                <span class="rating-stars">⭐</span>
                                <span class="rating-number">{{ number_format($series->vote_average, 1) }}</span>
                            </div>
                            @endif
                            @if(auth()->check() && $series->vote_average > 0)
                            <span class="card-match">{{ number_format($series->vote_average * 10) }}% de coincidencia</span>
                            @endif
                            @if($series->first_air_date)
                            <span class="card-year">{{ $series->first_air_date->format('Y') }}</span>
                            @endif
                            <span class="card-maturity">16+</span>
                        </div>
                        <div class="mobile-card-genres">
                            @if($series->genres)
                                @foreach($series->genres->take(3) as $genre)
                                    <span class="card-genre">{{ $genre->display_name ?: $genre->name }}</span>@if(!$loop->last) • @endif
                                @endforeach
                            @endif
                        </div>
                    </div>
                </div>
                @endforeach
            </div>
        </section>
        @endif

        <!-- Actores Destacados -->
        <section class="mobile-row" data-type="featured_actors" id="carousel-featured_actors-{{ uniqid() }}">
            <h2 class="mobile-row-title">🎭 Actores Destacados</h2>
            <div class="mobile-row-content">
                @php
                $featuredActors = \App\Models\Person::where('known_for_department', 'Acting')
                    ->whereNotNull('profile_path')
                    ->orderBy('popularity', 'desc')
                    ->limit(12)
                    ->get();
                @endphp
                
                @foreach($featuredActors as $actor)
                <div class="actor-content-card" onclick="location.href='{{ route('actors.content.show', [$content->actor->id, $content->id]) }}'">
                    <div class="content-thumbnail">
                        @if($content->actor->profile_path)
                        <img src="https://image.tmdb.org/t/p/w500{{ $content->actor->profile_path }}" alt="{{ $content->actor->display_name }}" loading="lazy" onerror="this.src='/images/no-actor-photo.svg'">
                        @else
                        <img src="/images/no-actor-photo.svg" alt="{{ $content->actor->display_name }}" loading="lazy">
                        @endif
                        
                        <!-- Indicator del tipo de contenido -->
                        <div class="content-type-indicator">
                            @switch($content->type)
                                @case('interview') 🎤 @break
                                @case('behind_scenes') 🎬 @break
                                @case('news') 📰 @break
                                @case('biography') 📖 @break
                                @case('gallery') 📸 @break
                                @case('video') 🎥 @break
                                @case('article') 📝 @break
                                @case('timeline') 📅 @break
                                @case('trivia') 💡 @break
                                @case('social') 📱 @break
                                @default 📄
                            @endswitch
                        </div>
                        
                        @if($content->duration)
                        <div class="content-duration">{{ $content->formatted_duration }}</div>
                        @endif
                        
                        @if($content->is_featured)
                        <div class="content-badge featured">⭐ DESTACADO</div>
                        @elseif($content->is_exclusive)
                        <div class="content-badge exclusive">🔒 EXCLUSIVO</div>
                        @endif
                        
                        <div class="content-overlay">
                            <div class="content-play-btn">▶️</div>
                        </div>
                    </div>
                    <div class="content-info">
                        <div class="content-type">{{ $content->type_name }}</div>
                        <h3 class="content-title">{{ Str::limit($content->title, 60) }}</h3>
                        <div class="content-actor">
                            @if($content->actor->profile_path)
                            <img src="https://image.tmdb.org/t/p/w45{{ $content->actor->profile_path }}" alt="{{ $content->actor->display_name }}" class="actor-thumb" onerror="this.src='/images/no-actor-photo.svg'">
                            @else
                            <img src="/images/no-actor-photo.svg" alt="{{ $content->actor->display_name }}" class="actor-thumb">
                            @endif
                            <span class="actor-name">{{ $content->actor->display_name }}</span>
                        </div>
                        <div class="content-meta">
                            <span class="content-date">{{ $content->published_at->diffForHumans() }}</span>
                            <div class="content-stats">
                                <span>👁️ {{ number_format($content->view_count) }}</span>
                                <span>❤️ {{ number_format($content->like_count) }}</span>
                            </div>
                        </div>
                    </div>
                </div>
                @endforeach
            </div>
        </section>
        @endif
        @endauth

        <!-- Contenido Destacado de Actores -->
        @if($featuredActorContent->count() > 0)
        <section class="mobile-row actor-content-section" data-type="featured_actor_content">
            <div class="section-header">
                <h2 class="mobile-row-title">🌟 Contenido Destacado de Actores</h2>
                @guest
                <div class="register-prompt">🔐 <a href="{{ route('login') }}">Inicia sesión</a> para acceso completo</div>
                @endguest
            </div>
            <div class="actor-content-row">
                @foreach($featuredActorContent->take(6) as $content)
                <div class="actor-content-card featured-content" 
                     onclick="@auth location.href='{{ route('actors.content.show', [$content->actor->id, $content->id]) }}' @else location.href='{{ route('login') }}' @endauth">
                    <div class="content-thumbnail">
                        @if($content->actor->profile_path)
                        <img src="https://image.tmdb.org/t/p/w500{{ $content->actor->profile_path }}" alt="{{ $content->actor->display_name }}" loading="lazy" onerror="this.src='/images/no-actor-photo.svg'">
                        @else
                        <img src="/images/no-actor-photo.svg" alt="{{ $content->actor->display_name }}" loading="lazy">
                        @endif
                        @if($content->duration)
                        <div class="content-duration">{{ $content->formatted_duration }}</div>
                        @endif
                        @guest
                        <div class="content-lock">🔐</div>
                        @endguest
                        <div class="content-overlay">
                            <div class="content-play-btn">@auth ▶️ @else 🔑 @endauth</div>
                        </div>
                        <div class="featured-badge">⭐ Destacado</div>
                    </div>
                    <div class="content-info">
                        <div class="content-type">{{ $content->type_name }}</div>
                        <h3 class="content-title">{{ Str::limit($content->title, 60) }}</h3>
                        <div class="content-actor">
                            @if($content->actor->profile_path)
                            <img src="https://image.tmdb.org/t/p/w45{{ $content->actor->profile_path }}" alt="{{ $content->actor->display_name }}" class="actor-thumb" onerror="this.src='/images/no-actor-photo.svg'">
                            @else
                            <img src="/images/no-actor-photo.svg" alt="{{ $content->actor->display_name }}" class="actor-thumb">
                            @endif
                            <span class="actor-name">{{ $content->actor->display_name }}</span>
                        </div>
                        <div class="content-meta">
                            <span class="content-date">{{ $content->published_at->diffForHumans() }}</span>
                            <div class="content-stats">
                                <span>👁️ {{ number_format($content->view_count) }}</span>
                                <span>❤️ {{ number_format($content->like_count) }}</span>
                            </div>
                        </div>
                    </div>
                </div>
                @endforeach
            </div>
        </section>
        @endif

        <!-- Contenido Reciente de Actores -->
        @if($recentActorContent->count() > 0)
        <section class="mobile-row actor-content-section" data-type="recent_actor_content">
            <div class="section-header">
                <h2 class="mobile-row-title">🕐 Últimas Novedades de Actores</h2>
                @guest
                <div class="register-prompt">🔐 <a href="{{ route('register.simple.form') }}">Regístrate gratis</a></div>
                @endguest
            </div>
            <div class="actor-content-row">
                @foreach($recentActorContent->take(8) as $content)
                <div class="actor-content-card" 
                     onclick="@auth location.href='{{ route('actors.content.show', [$content->actor->id, $content->id]) }}' @else location.href='{{ route('login') }}' @endauth">
                    <div class="content-thumbnail">
                        @if($content->actor->profile_path)
                        <img src="https://image.tmdb.org/t/p/w500{{ $content->actor->profile_path }}" alt="{{ $content->actor->display_name }}" loading="lazy" onerror="this.src='/images/no-actor-photo.svg'">
                        @else
                        <img src="/images/no-actor-photo.svg" alt="{{ $content->actor->display_name }}" loading="lazy">
                        @endif
                        @if($content->duration)
                        <div class="content-duration">{{ $content->formatted_duration }}</div>
                        @endif
                        @guest
                        <div class="content-lock">🔐</div>
                        @endguest
                        <div class="content-overlay">
                            <div class="content-play-btn">@auth ▶️ @else 🔑 @endauth</div>
                        </div>
                        <div class="new-badge">🆕 Nuevo</div>
                    </div>
                    <div class="content-info">
                        <div class="content-type">{{ $content->type_name }}</div>
                        <h3 class="content-title">{{ Str::limit($content->title, 60) }}</h3>
                        <div class="content-actor">
                            @if($content->actor->profile_path)
                            <img src="https://image.tmdb.org/t/p/w45{{ $content->actor->profile_path }}" alt="{{ $content->actor->display_name }}" class="actor-thumb" onerror="this.src='/images/no-actor-photo.svg'">
                            @else
                            <img src="/images/no-actor-photo.svg" alt="{{ $content->actor->display_name }}" class="actor-thumb">
                            @endif
                            <span class="actor-name">{{ $content->actor->display_name }}</span>
                        </div>
                        <div class="content-meta">
                            <span class="content-date">{{ $content->published_at->diffForHumans() }}</span>
                            <div class="content-stats">
                                <span>👁️ {{ number_format($content->view_count) }}</span>
                                <span>❤️ {{ number_format($content->like_count) }}</span>
                            </div>
                        </div>
                    </div>
                </div>
                @endforeach
            </div>
        </section>
        @endif

        <!-- Actores con Contenido Exclusivo -->
        @if($actorsWithContent->count() > 0)
        <section class="mobile-row actors-with-content-section" data-type="actors_with_content">
            <div class="section-header">
                <h2 class="mobile-row-title">🎭 Actores con Contenido Exclusivo</h2>
                <a href="{{ route('actors.index') }}" class="view-all-link">Ver todos</a>
            </div>
            <div class="actors-content-row">
                @foreach($actorsWithContent->take(8) as $actor)
                <div class="actor-with-content-card" onclick="location.href='{{ route('actors.show', $actor->id) }}'">
                    <div class="actor-profile">
                        @if($actor->profile_path)
                        <img src="https://image.tmdb.org/t/p/w185{{ $actor->profile_path }}" alt="{{ $actor->display_name }}" loading="lazy" onerror="this.src='/images/no-actor-photo.svg'">
                        @else
                        <img src="/images/no-actor-photo.svg" alt="{{ $actor->display_name }}" loading="lazy">
                        @endif
                        <div class="content-count-badge">{{ $actor->content_count }} contenidos</div>
                    </div>
                    <div class="actor-info">
                        <h3 class="actor-name">{{ $actor->display_name }}</h3>
                        <div class="content-preview">
                            @foreach($actor->exclusiveContent->take(3) as $content)
                            <div class="content-preview-item">
                                <span class="content-type-mini">{{ $content->type_name }}</span>
                                <span class="content-title-mini">{{ Str::limit($content->title, 40) }}</span>
                            </div>
                            @endforeach
                        </div>
                        @guest
                        <div class="exclusive-prompt">🔐 Regístrate para ver</div>
                        @endguest
                    </div>
                </div>
                @endforeach
            </div>
        </section>
        @endif

        <!-- Carrusel de Streaming Gratuito eliminado en esta versión -->

    </div>
</div>

<style>
/* Hero Section Styles */
.hero-section {
    position: relative;
    height: 70vh;
    min-height: 500px;
    background-size: cover;
    background-position: center center;
    background-attachment: fixed;
    display: flex;
    align-items: center;
    color: white;
    overflow: hidden;
}

.hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        90deg,
        rgba(0,0,0,0.8) 0%,
        rgba(0,0,0,0.6) 40%,
        rgba(0,0,0,0.4) 70%,
        transparent 100%
    );
}

.hero-content {
    position: relative;
    z-index: 2;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
    width: 100%;
}

.hero-info-box {
    max-width: 550px;
}

.mobile-hero-poster {
    width: 200px;
    height: auto;
    border-radius: 8px;
    margin-bottom: 1rem;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
}

.hero-categories {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
}

.hero-category {
    background: rgba(255,255,255,0.2);
    padding: 0.3rem 0.8rem;
    border-radius: 15px;
    font-size: 0.8rem;
    font-weight: 600;
    backdrop-filter: blur(5px);
    border: 1px solid rgba(255,255,255,0.1);
}

.hero-title {
    font-size: 3.5rem;
    font-weight: 700;
    margin: 0 0 1rem 0;
    line-height: 1.1;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
}

.hero-meta {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    margin-bottom: 1.5rem;
    flex-wrap: wrap;
}

.hero-rating {
    display: flex;
    align-items: center;
    gap: 0.3rem;
}

.rating-stars {
    font-size: 1.2rem;
}

.rating-number {
    font-weight: 600;
    font-size: 1.1rem;
}

.hero-year, .hero-episodes {
    color: rgba(255,255,255,0.8);
    font-weight: 500;
}

.hero-description {
    font-size: 1.1rem;
    line-height: 1.6;
    margin-bottom: 2rem;
    color: rgba(255,255,255,0.9);
    text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
}

.hero-buttons {
    display: flex;
    gap: 1rem;
    align-items: center;
}

.btn-hero {
    background: rgba(255,255,255,0.9);
    color: #000;
    padding: 0.8rem 2rem;
    border-radius: 6px;
    text-decoration: none;
    font-weight: 600;
    font-size: 1rem;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
    backdrop-filter: blur(5px);
}

.btn-hero:hover {
    background: rgba(255,255,255,1);
    transform: scale(1.05);
    color: #000;
    text-decoration: none;
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .hero-section {
        height: 80vh;
        min-height: 600px;
        background-attachment: scroll;
    }
    
    .hero-content {
        padding: 0 1rem;
        display: flex;
        align-items: center;
        height: 100%;
    }
    
    .hero-info-box {
        text-align: center;
        max-width: 100%;
    }
    
    .hero-title {
        font-size: 2.2rem;
        margin-bottom: 0.8rem;
    }
    
    .hero-meta {
        justify-content: center;
        gap: 1rem;
    }
    
    .hero-description {
        font-size: 0.95rem;
        margin-bottom: 1.5rem;
    }
    
    .mobile-hero-poster {
        width: 150px;
        margin: 0 auto 1rem auto;
    }
    
    .hero-categories {
        justify-content: center;
    }
}

/* Hero Slider Controls */
.hero-controls {
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    transform: translateY(-50%);
    display: flex;
    justify-content: space-between;
    padding: 0 2rem;
    pointer-events: none;
}

.hero-nav {
    background: rgba(0, 0, 0, 0.6);
    border: none;
    color: white;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    pointer-events: all;
    opacity: 0.7;
}

.hero-nav:hover {
    background: rgba(0, 0, 0, 0.8);
    opacity: 1;
    transform: scale(1.1);
}

.hero-nav:active {
    transform: scale(0.95);
}

/* Hero Indicators */
.hero-indicators {
    position: absolute;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
    z-index: 10;
}

.hero-indicator {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    border: 2px solid rgba(255, 255, 255, 0.7);
    background: transparent;
    cursor: pointer;
    transition: all 0.3s ease;
}

.hero-indicator:hover {
    background: rgba(255, 255, 255, 0.5);
    transform: scale(1.2);
}

.hero-indicator.active {
    background: white;
    width: 30px;
    border-radius: 5px;
}

@media (max-width: 768px) {
    .hero-controls {
        padding: 0 0.5rem;
        top: 60%;
    }
    
    .hero-nav {
        width: 35px;
        height: 35px;
        opacity: 0.8;
        background: rgba(0, 0, 0, 0.7);
    }
    
    .hero-nav svg {
        width: 18px;
        height: 18px;
    }
    
    .hero-indicators {
        bottom: 15px;
    }
    
    .hero-indicator {
        width: 6px;
        height: 6px;
        border-width: 1px;
    }
    
    .hero-indicator.active {
        width: 20px;
    }
}

@media (max-width: 480px) {
    .hero-title {
        font-size: 1.8rem;
    }
    
    .hero-description {
        font-size: 0.9rem;
    }
    
    .btn-hero {
        padding: 0.7rem 1.5rem;
        font-size: 0.9rem;
    }
}

.netflix-mobile-home {
    background: #141414;
    color: white;
    min-height: 100vh;
}

/* Hero Section */
.mobile-hero {
    position: relative;
    height: 60vh;
    min-height: 400px;
}

.mobile-hero-image {
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    position: relative;
}

.mobile-hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(180deg, transparent 0%, rgba(0,0,0,0.7) 100%);
}

.mobile-hero-content {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 2rem 1rem;
    z-index: 10;
}

.mobile-hero-logo {
    margin-bottom: 1rem;
}

.hero-badge {
    background: #0099ff;
    color: white;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 0.5rem;
    display: inline-block;
    box-shadow: 0 2px 8px rgba(0, 153, 255, 0.4);
}

.mobile-hero-title {
    font-size: 2rem;
    font-weight: 900;
    margin: 0.5rem 0;
    line-height: 1.1;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
}

.mobile-hero-info {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
    flex-wrap: wrap;
}

.hero-rating {
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.hero-rating .rating-stars {
    font-size: 0.8rem;
}

.hero-rating .rating-number {
    color: #ffd700;
    font-weight: 600;
    font-size: 0.9rem;
}

.hero-match {
    color: #46d369;
    font-weight: 600;
    font-size: 0.9rem;
}

.hero-year, .hero-seasons {
    color: #ccc;
    font-size: 0.9rem;
}

.hero-maturity {
    background: rgba(255, 255, 255, 0.2);
    padding: 0.1rem 0.3rem;
    border-radius: 3px;
    font-size: 0.75rem;
    font-weight: 600;
}

.mobile-hero-description {
    color: #ccc;
    font-size: 0.9rem;
    line-height: 1.4;
    margin: 0 0 1.5rem 0;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
}

.mobile-hero-actions {
    display: flex;
    gap: 0.75rem;
}

.mobile-play-btn {
    background: white;
    color: black;
    padding: 0.75rem 1.5rem;
    border-radius: 4px;
    text-decoration: none;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
}

.mobile-info-btn {
    background: rgba(109, 109, 110, 0.7);
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 4px;
    border: none;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
}

/* Categories */
.mobile-categories {
    padding: 1rem;
    border-bottom: 1px solid #333;
}

.mobile-category-pills {
    display: flex;
    gap: 1rem;
}

.category-pill {
    padding: 0.5rem 0;
    color: #999;
    font-weight: 500;
    border-bottom: 2px solid transparent;
    cursor: pointer;
    text-decoration: none;
    transition: all 0.3s ease;
}

.category-pill:hover {
    color: #ccc;
    text-decoration: none;
}

.category-pill.active {
    color: white;
    border-bottom-color: #e50914;
}

/* Content Rows */
.mobile-content-rows {
    padding: 0 1rem;
}

.mobile-row {
    margin-bottom: 2rem;
}

.mobile-row-title {
    font-size: 1.2rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: white;
}

.mobile-row-content {
    display: flex;
    gap: 0.5rem;
    overflow-x: auto;
    padding-bottom: 1rem;
    scroll-behavior: smooth;
}

.mobile-row-content::-webkit-scrollbar {
    display: none;
}

/* Cards */
.mobile-card {
    flex-shrink: 0;
    width: 200px;
    cursor: pointer;
    transition: transform 0.2s ease;
}

.mobile-card:active {
    transform: scale(0.98);
}

.mobile-card-image {
    position: relative;
    width: 200px;
    height: 300px;
    border-radius: 8px;
    overflow: hidden;
    margin-bottom: 0.5rem;
}

.mobile-card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.mobile-card-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.2s ease;
}

.mobile-card:hover .mobile-card-overlay {
    opacity: 1;
}

.card-play-btn {
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.mobile-card-ranking {
    position: absolute;
    bottom: 0.5rem;
    right: 0.5rem;
    background: rgba(0,0,0,0.8);
    color: white;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    font-weight: 600;
}

.mobile-card-info {
    padding: 0 0.25rem;
}

.mobile-card-title {
    font-size: 0.9rem;
    font-weight: 600;
    margin: 0 0 0.25rem 0;
    line-height: 1.2;
    color: white;
}

.mobile-card-meta {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.25rem;
    flex-wrap: wrap;
}

.card-rating {
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.card-rating .rating-stars {
    font-size: 0.7rem;
}

.card-rating .rating-number {
    color: #ffd700;
    font-weight: 600;
    font-size: 0.75rem;
}

.card-match {
    color: #46d369;
    font-size: 0.75rem;
    font-weight: 600;
}

.card-year {
    color: #ccc;
    font-size: 0.75rem;
}

.card-maturity {
    background: rgba(255, 255, 255, 0.2);
    padding: 0.1rem 0.2rem;
    border-radius: 2px;
    font-size: 0.65rem;
    font-weight: 600;
}

.mobile-card-genres {
    color: #999;
    font-size: 0.75rem;
    margin-bottom: 0.25rem;
}

.card-genre {
    font-size: 0.75rem;
}

.mobile-card-description {
    color: #ccc;
    font-size: 0.75rem;
    line-height: 1.3;
    margin: 0;
}

@media (max-width: 480px) {
    .mobile-hero-title {
        font-size: 1.5rem;
    }
    
    .mobile-hero-actions {
        flex-direction: column;
    }
    
    .mobile-play-btn,
    .mobile-info-btn {
        justify-content: center;
    }
    
    .mobile-card {
        width: 160px;
    }
    
    .mobile-card-image {
        width: 160px;
        height: 240px;
    }
}

/* === ACTOR CONTENT SECTIONS === */

/* Actor Content Sections */
.actor-content-section {
    margin-bottom: 2.5rem;
}

.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.exclusive-badge {
    background: linear-gradient(135deg, #00d4ff 0%, #7b68ee 100%);
    color: white;
    padding: 0.3rem 0.8rem;
    border-radius: 15px;
    font-size: 0.75rem;
    font-weight: 600;
    box-shadow: 0 2px 8px rgba(0, 212, 255, 0.3);
}

.register-prompt {
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.8);
    padding: 0.3rem 0.8rem;
    border-radius: 15px;
    font-size: 0.75rem;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.register-prompt a {
    color: #00d4ff;
    text-decoration: none;
    font-weight: 600;
}

.view-all-link {
    color: #00d4ff;
    text-decoration: none;
    font-size: 0.9rem;
    font-weight: 500;
}

.view-all-link:hover {
    text-decoration: underline;
}

/* Actor Content Row */
.actor-content-row {
    display: flex;
    gap: 1rem;
    overflow-x: auto;
    padding-bottom: 1rem;
    scroll-behavior: smooth;
}

.actor-content-row::-webkit-scrollbar {
    display: none;
}

.actor-content-card {
    flex-shrink: 0;
    width: 220px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.3s ease;
}

.actor-content-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 212, 255, 0.2);
    background: rgba(255, 255, 255, 0.1);
}

.actor-content-card.featured-content {
    border: 2px solid rgba(255, 215, 0, 0.3);
}

.actor-content-card.featured-content:hover {
    box-shadow: 0 10px 25px rgba(255, 215, 0, 0.3);
}

/* Content type indicator */
.content-type-indicator {
    position: absolute;
    top: 10px;
    left: 10px;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 0.5rem;
    border-radius: 50%;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    backdrop-filter: blur(10px);
    border: 2px solid rgba(255, 255, 255, 0.2);
    z-index: 2;
}

/* Content badges */
.content-badge {
    position: absolute;
    top: 10px;
    right: 10px;
    padding: 0.3rem 0.8rem;
    border-radius: 15px;
    font-size: 0.7rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    backdrop-filter: blur(10px);
    z-index: 2;
}

.content-badge.featured {
    background: linear-gradient(135deg, #ffd700 0%, #ffed4a 100%);
    color: #000;
    border: 1px solid rgba(255, 215, 0, 0.5);
    box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
}

.content-badge.exclusive {
    background: linear-gradient(135deg, #00d4ff 0%, #7b68ee 100%);
    color: white;
    border: 1px solid rgba(0, 212, 255, 0.5);
    box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);
}

/* Content Thumbnail */
.content-thumbnail {
    position: relative;
    width: 100%;
    height: 150px;
    overflow: hidden;
    background: #1a1a1a;
}

.content-thumbnail img {
    width: 100%;
    height: 100%;
    object-fit: contain; /* Cambiar a contain para mostrar la imagen completa */
    object-position: center;
}

.content-placeholder {
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #333 0%, #555 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    color: rgba(255, 255, 255, 0.6);
}

.content-duration {
    position: absolute;
    bottom: 6px;
    right: 6px;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 0.2rem 0.5rem;
    border-radius: 10px;
    font-size: 0.7rem;
    font-weight: 600;
}

.content-lock {
    position: absolute;
    top: 6px;
    right: 6px;
    background: rgba(0, 0, 0, 0.8);
    color: #ffd700;
    padding: 0.3rem;
    border-radius: 50%;
    font-size: 0.8rem;
}

.content-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.6);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.actor-content-card:hover .content-overlay {
    opacity: 1;
}

.content-play-btn {
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
    color: #333;
}

.featured-badge {
    position: absolute;
    top: 6px;
    left: 6px;
    background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
    color: #333;
    padding: 0.2rem 0.5rem;
    border-radius: 10px;
    font-size: 0.65rem;
    font-weight: 600;
}

.new-badge {
    position: absolute;
    top: 6px;
    left: 6px;
    background: linear-gradient(135deg, #46d369 0%, #2ea54b 100%);
    color: white;
    padding: 0.2rem 0.5rem;
    border-radius: 10px;
    font-size: 0.65rem;
    font-weight: 600;
}

/* Content Info */
.content-info {
    padding: 1rem;
}

.content-type {
    background: rgba(0, 212, 255, 0.2);
    color: #00d4ff;
    padding: 0.2rem 0.6rem;
    border-radius: 10px;
    font-size: 0.7rem;
    font-weight: 600;
    display: inline-block;
    margin-bottom: 0.5rem;
}

.content-title {
    color: white;
    font-size: 0.9rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
    line-height: 1.2;
}

.content-actor {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.5rem;
}

.actor-thumb {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    object-fit: cover;
}

.actor-name {
    color: rgba(255, 255, 255, 0.8);
    font-size: 0.75rem;
    font-weight: 500;
}

.content-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.7rem;
    color: rgba(255, 255, 255, 0.6);
}

.content-stats {
    display: flex;
    gap: 0.5rem;
}

/* Actors with Content Section */
.actors-with-content-section .actors-content-row {
    display: flex;
    gap: 1rem;
    overflow-x: auto;
    padding-bottom: 1rem;
}

.actor-with-content-card {
    flex-shrink: 0;
    width: 180px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.3s ease;
}

.actor-with-content-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(0, 212, 255, 0.2);
    background: rgba(255, 255, 255, 0.1);
}

.actor-profile {
    position: relative;
    width: 100%;
    height: 140px;
    overflow: hidden;
}

.actor-profile img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.actor-placeholder {
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #00d4ff 0%, #7b68ee 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: 700;
    color: white;
}

.content-count-badge {
    position: absolute;
    bottom: 6px;
    right: 6px;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 0.2rem 0.5rem;
    border-radius: 10px;
    font-size: 0.65rem;
    font-weight: 600;
}

.actor-info {
    padding: 1rem;
}

.actor-info .actor-name {
    color: white;
    font-size: 0.9rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.content-preview {
    margin-bottom: 0.5rem;
}

.content-preview-item {
    display: flex;
    align-items: center;
    gap: 0.3rem;
    margin-bottom: 0.3rem;
    font-size: 0.7rem;
}

.content-type-mini {
    background: rgba(0, 212, 255, 0.2);
    color: #00d4ff;
    padding: 0.1rem 0.4rem;
    border-radius: 8px;
    font-weight: 600;
    min-width: fit-content;
}

.content-title-mini {
    color: rgba(255, 255, 255, 0.7);
    line-height: 1.2;
}

.exclusive-prompt {
    background: rgba(255, 215, 0, 0.1);
    color: #ffd700;
    padding: 0.3rem 0.6rem;
    border-radius: 8px;
    font-size: 0.7rem;
    font-weight: 600;
    text-align: center;
    border: 1px solid rgba(255, 215, 0, 0.3);
}

/* Mobile Responsive for Actor Content */
@media (max-width: 768px) {
    .actor-content-card {
        width: 180px;
    }
    
    .content-thumbnail {
        height: 110px;
    }
    
    .content-info {
        padding: 0.8rem;
    }
    
    .content-title {
        font-size: 0.8rem;
    }
    
    .actor-with-content-card {
        width: 150px;
    }
    
    .actor-profile {
        height: 120px;
    }
    
    .section-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
    }
}

@media (max-width: 480px) {
    .actor-content-card {
        width: 160px;
    }
    
    .content-thumbnail {
        height: 100px;
    }
    
    .actor-with-content-card {
        width: 130px;
    }
    
    .actor-profile {
        height: 100px;
    }
}
</style>

<script>
// Hero Rotation System
@if(isset($heroSeriesList) && $heroSeriesList->count() > 1)
@php
$heroSeriesData = $heroSeriesList->map(function($series) {
    return [
        'id' => $series->id,
        'title' => $series->display_title,
        'description' => Str::limit($series->display_overview ?: 'Descubre este increíble K-Drama y sumérgete en una historia única llena de emociones.', 280),
        'backdrop' => $series->backdrop_path ? 'https://image.tmdb.org/t/p/original' . $series->backdrop_path : '/images/no-backdrop.svg',
        'poster' => $series->poster_path ? 'https://image.tmdb.org/t/p/w500' . $series->poster_path : '/images/no-poster-series.svg',
        'rating' => $series->vote_average,
        'year' => $series->first_air_date ? $series->first_air_date->format('Y') : null,
        'episodes' => $series->number_of_episodes,
        'genres' => $series->genres->take(3)->pluck('display_name')->filter()->implode(', '),
        'url' => route('series.show', $series->id)
    ];
});
@endphp
const heroSeries = Object.values(@json($heroSeriesData));

let currentHeroIndex = 0;

function updateSlide(index) {
    const currentSeries = heroSeries[index];
    
    const heroSection = document.getElementById('heroSection');
    if (!heroSection) return;
    
    // Fade out
    heroSection.style.transition = 'opacity 0.5s ease-in-out';
    heroSection.style.opacity = '0.7';
    
    setTimeout(() => {
        // Update background
        heroSection.style.backgroundImage = `url('${currentSeries.backdrop}')`;
        
        // Update title
        const titleElement = heroSection.querySelector('.hero-title');
        if (titleElement) titleElement.textContent = currentSeries.title;
        
        // Update description
        const descElement = heroSection.querySelector('.hero-description');
        if (descElement) descElement.textContent = currentSeries.description;
        
        // Update rating
        const ratingElement = heroSection.querySelector('.rating-number');
        if (ratingElement && currentSeries.rating > 0) {
            ratingElement.textContent = currentSeries.rating.toFixed(1);
        }
        
        // Update year
        const yearElement = heroSection.querySelector('.hero-year');
        if (yearElement && currentSeries.year) {
            yearElement.textContent = currentSeries.year;
        }
        
        // Update episodes
        const episodesElement = heroSection.querySelector('.hero-episodes');
        if (episodesElement && currentSeries.episodes) {
            episodesElement.textContent = `${currentSeries.episodes} episodios`;
        }
        
        // Update genres
        const genresContainer = heroSection.querySelector('.hero-categories');
        if (genresContainer && currentSeries.genres) {
            const genres = currentSeries.genres.split(', ');
            genresContainer.innerHTML = genres.map(genre => 
                `<span class="hero-category">${genre}</span>`
            ).join('');
        }
        
        // Update button URL
        const buttonElement = heroSection.querySelector('.btn-hero');
        if (buttonElement) buttonElement.href = currentSeries.url;
        
        // Update mobile poster
        const posterElement = heroSection.querySelector('.mobile-hero-poster');
        if (posterElement) posterElement.src = currentSeries.poster;
        
        // Fade in
        setTimeout(() => {
            heroSection.style.opacity = '1';
        }, 100);
    }, 800);
    
    // Update indicators
    updateIndicators(index);
}

function updateIndicators(index) {
    const indicators = document.querySelectorAll('.hero-indicator');
    indicators.forEach((indicator, i) => {
        indicator.classList.toggle('active', i === index);
    });
}

function navigateHero(direction) {
    if (heroSeries.length <= 1) return;
    
    // Clear auto-rotation
    if (window.heroRotationInterval) {
        clearInterval(window.heroRotationInterval);
    }
    
    currentHeroIndex = (currentHeroIndex + direction + heroSeries.length) % heroSeries.length;
    updateSlide(currentHeroIndex);
    
    // Restart auto-rotation after manual navigation
    window.heroRotationInterval = setInterval(rotateHero, 8000);
}

function goToSlide(index) {
    if (index < 0 || index >= heroSeries.length) return;
    
    // Clear auto-rotation
    if (window.heroRotationInterval) {
        clearInterval(window.heroRotationInterval);
    }
    
    currentHeroIndex = index;
    updateSlide(currentHeroIndex);
    
    // Restart auto-rotation after manual navigation
    window.heroRotationInterval = setInterval(rotateHero, 8000);
}

function rotateHero() {
    if (heroSeries.length <= 1) return;
    
    currentHeroIndex = (currentHeroIndex + 1) % heroSeries.length;
    updateSlide(currentHeroIndex);
}

// Initialize rotation after page load
document.addEventListener('DOMContentLoaded', function() {
    // Initialize indicators on first load
    updateIndicators(0);
    
    // Rotate hero every 8 seconds
    window.heroRotationInterval = setInterval(rotateHero, 8000);
});
@endif
</script>
@endsection